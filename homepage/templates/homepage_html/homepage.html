<!-- Extend the base template -->
{% extends 'global_templates/base.html' %}

<!-- Load static files tag -->
{% load static %}

<!-- 添加 CSRF token 到页面顶部 -->
{% csrf_token %}

<!-- Set the title of the page to "10 OF THE HIGHEST PAYING AFFILIATE PROGRAMS 2024" -->
{% block title %}BeginMama: Premium Baby Essentials & Expert Parenting Guide | New Mom's Complete Resource{% endblock %}

<!-- Start the content block -->
{% block content %}

<!-- Header section -->
<header>
    <nav>
        <!-- Logo section -->
        <div class="logo">
            <!-- Company logo image -->
            <img src="{% static 'images/BeginMamaLogo.png' %}" alt="BeginMama Logo" class="logo-image">
            <!-- Company name/logo text, linked to homepage -->
            <a id="logo-text" href="{% url 'homepage:homepage' %}"><span class="logo-text">BeginMama</span></a>
        </div>

        <!-- Theme mode switcher -->
        {% include 'global_templates/theme_switcher.html' %}

        <!-- Navigation links -->
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#products">Products</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#reviews-blogs">Reviews & Blogs</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>

        <!-- Burger menu for mobile view -->
        <div class="burger">
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
        </div>
    </nav>
</header>


 <!-- Hero Section -->
<section id="home" class="hero">
    <!-- Content of the hero section -->
    <div class="hero-content">
        <!-- Main heading of the hero section -->
        <h1>Begin Your Best Mama Moments with Us</h1>
        <!-- Subheading of the hero section -->
        <p>Welcome to BeginMama's curated collection of must-have baby essentials! We're here to help you prepare for your beautiful journey into motherhood.</p>
        <div class="hero-features">
            <ul>
                <li>Track your baby preparation progress with our smart checklist system</li>
                <li>Find the best baby products recommended by experienced moms</li>
                <li>Easily manage and track your purchased items</li>
                <li>Get everything you need for your baby's arrival</li>
            </ul>
        </div>
        <!-- Call-to-action button -->
        <a href="#featured-products" class="cta-button" aria-label="Browse Premium Baby Products">
            Discover Essential Baby Products
        </a>
    </div>
</section> 

<!-- Featured Products Section -->
<section id="featured-products" class="latest-software">
    <!-- Heading for the featured products section -->
    <h2>Top Picks for New Moms</h2>
    <!-- Grid container for featured products -->
    <div class="software-grid">
        <!-- Baby Clothes -->
        {% for item in featured_products.baby_clothes %}
        <div class="software-card" id="card-bc-{{item.id}}">
            <img class="software-image" src="{{item.image.url}}" alt="{{ item.title }} - Premium Baby Essential Product" loading="lazy">
            <h3 class="software-title">{{item.title}}</h3>
            <div class="price-container">
                {% if item.price %}
                <span class="software-price">
                    <span class="currency-symbol">$</span>
                    {{item.price}}
                </span>
                {% endif %}
            </div>
            <p class="software-description">{{item.description}}</p>
            <a href="{{item.affiliate_link}}" 
               class="software-affiliate-link"
               onclick="markAsCompleted(event, 'card-bc-{{item.id}}')">
                Add to My Checklist
            </a>
        </div>
        {% endfor %}

        <!-- Toiletries -->
        {% for item in featured_products.toiletries %}
        <div class="software-card" id="card-tl-{{item.id}}">
            <img class="software-image" src="{{item.image.url}}" alt="{{ item.title }} - Premium Baby Essential Product" loading="lazy">
            <h3 class="software-title">{{item.title}}</h3>
            <div class="price-container">
                {% if item.price %}
                <span class="software-price">
                    <span class="currency-symbol">$</span>
                    {{item.price}}
                </span>
                {% endif %}
            </div>
            <p class="software-description">{{item.description}}</p>
            <a href="{{item.affiliate_link}}" 
               class="software-affiliate-link"
               onclick="markAsCompleted(event, 'card-tl-{{item.id}}')">
                Add to My Checklist
            </a>
        </div>
        {% endfor %}

        <!-- Sleep Essentials -->
        {% for item in featured_products.sleep_essentials %}
        <div class="software-card" id="card-se-{{item.id}}">
            <img class="software-image" src="{{item.image.url}}" alt="{{ item.title }} - Premium Baby Essential Product" loading="lazy">
            <h3 class="software-title">{{item.title}}</h3>
            <div class="price-container">
                {% if item.price %}
                <span class="software-price">
                    <span class="currency-symbol">$</span>
                    {{item.price}}
                </span>
                {% endif %}
            </div>
            <p class="software-description">{{item.description}}</p>
            <a href="{{item.affiliate_link}}" 
               class="software-affiliate-link"
               onclick="markAsCompleted(event, 'card-se-{{item.id}}')">
                Add to My Checklist
            </a>
        </div>
        {% endfor %}

        <!-- Daily Essentials -->
        {% for item in featured_products.daily_essentials %}
        <div class="software-card" id="card-de-{{item.id}}">
            <img class="software-image" src="{{item.image.url}}" alt="{{ item.title }} - Premium Baby Essential Product" loading="lazy">
            <h3 class="software-title">{{item.title}}</h3>
            <div class="price-container">
                {% if item.price %}
                <span class="software-price">
                    <span class="currency-symbol">$</span>
                    {{item.price}}
                </span>
                {% endif %}
            </div>
            <p class="software-description">{{item.description}}</p>
            <a href="{{item.affiliate_link}}" 
               class="software-affiliate-link"
               onclick="markAsCompleted(event, 'card-de-{{item.id}}')">
                Add to My Checklist
            </a>
        </div>
        {% endfor %}

        <!-- Feeding Supplies -->
        {% for item in featured_products.feeding_supplies %}
        <div class="software-card" id="card-fs-{{item.id}}">
            <img class="software-image" src="{{item.image.url}}" alt="{{ item.title }} - Premium Baby Essential Product" loading="lazy">
            <h3 class="software-title">{{item.title}}</h3>
            <div class="price-container">
                {% if item.price %}
                <span class="software-price">
                    <span class="currency-symbol">$</span>
                    {{item.price}}
                </span>
                {% endif %}
            </div>
            <p class="software-description">{{item.description}}</p>
            <a href="{{item.affiliate_link}}" 
               class="software-affiliate-link"
               onclick="markAsCompleted(event, 'card-fs-{{item.id}}')">
                Add to My Checklist
            </a>
        </div>
        {% endfor %}

        <!-- Large Items -->
        {% for item in featured_products.large_items %}
        <div class="software-card" id="card-li-{{item.id}}">
            <img class="software-image" src="{{item.image.url}}" alt="{{ item.title }} - Premium Baby Essential Product" loading="lazy">
            <h3 class="software-title">{{item.title}}</h3>
            <div class="price-container">
                {% if item.price %}
                <span class="software-price">
                    <span class="currency-symbol">$</span>
                    {{item.price}}
                </span>
                {% endif %}
            </div>
            <p class="software-description">{{item.description}}</p>
            <a href="{{item.affiliate_link}}" 
               class="software-affiliate-link"
               onclick="markAsCompleted(event, 'card-li-{{item.id}}')">
                Add to My Checklist
            </a>
        </div>
        {% endfor %}
    </div>
</section>

<script>
function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
}

function markAsCompleted(event, cardId) {
    event.preventDefault();
    
    const card = document.getElementById(cardId);
    const button = card.querySelector('.software-affiliate-link');
    // 从 cardId 中提取产品类型和ID
    const [, type, id] = cardId.split('-');  // 例如 'card-bc-1' 会得到 ['card', 'bc', '1']
    const productId = `${type}-${id}`;  // 组合成 'bc-1' 这样的格式
    const isCompleted = card.classList.contains('completed');
    
    // 直接从页面获取 CSRF token
    const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
    
    // 创建 FormData 对象
    const formData = new FormData();
    formData.append('product_id', productId);
    formData.append('action', isCompleted ? 'cancel' : 'complete');
    
    // 发送请求到服务器
    fetch('{% url "homepage:mark_completed" %}', {
        method: 'POST',
        headers: {
            'X-CSRFToken': csrftoken,
        },
        credentials: 'same-origin',
        body: formData,
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        if (data.status === 'success') {
            if (isCompleted) {
                // 取消完成状态
                card.classList.remove('completed');
                button.textContent = 'Add to My Checklist';
            } else {
                // 添加完成状态
                card.classList.add('completed');
                button.textContent = 'Remove from Checklist';
                window.open(button.href, '_blank');
            }
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

// 页面加载时检查 cookies 恢复完成状态
document.addEventListener('DOMContentLoaded', function() {
    const cards = document.querySelectorAll('.software-card');
    cards.forEach(card => {
        const [, type, id] = card.id.split('-');
        const productId = `${type}-${id}`;
        const cookieName = `completed_product_${productId}`;
        if (getCookie(cookieName) === 'true') {
            card.classList.add('completed');
            const button = card.querySelector('.software-affiliate-link');
            button.textContent = 'Remove from Checklist';
        }
    });
});
</script>

<!-- Products Section -->
<section id="products" class="products">
    <!-- Heading for the products section -->
    <h2>Our Curated Selection</h2>
    <!-- Grid container for product categories -->
    <div class="product-grid">
        <!-- Product card for Baby Sleep Essentials -->
        <div class="product-card">
            <i class="fas fa-bed"></i>
            <h3>Baby Sleep Essentials</h3>
            <p>Quality cribs, bedding, and sleep aids for your baby's peaceful rest</p>
            <a href="{% url 'sleep_essentials:sleep_essentials' %}" class="find-product">Shop Sleep Essentials →</a>
        </div>
        <!-- Product card for Daily Baby Essentials -->
        <div class="product-card">
            <i class="fas fa-box"></i>
            <h3>Daily Baby Essentials</h3>
            <p>Must-have items for daily care, comfort, and baby development</p>
            <a href="{% url 'daily_essentials:daily_essentials' %}" class="find-product">Shop Daily Care →</a>
        </div>
        <!-- Product card for Large Items -->
        <div class="product-card">
            <i class="fas fa-dolly"></i>
            <h3>Large Baby Items</h3>
            <p>Premium strollers, cribs, and furniture for your growing baby</p>
            <a href="{% url 'large_items:large_items' %}" class="find-product">Shop Large Items →</a>
        </div>
        <!-- Product card for Feeding Supplies -->
        <div class="product-card">
            <i class="fas fa-baby-carriage"></i>
            <h3>Feeding Supplies</h3>
            <p>Safe and comfortable feeding essentials for happy mealtimes</p>
            <a href="{% url 'feeding_supplies:feeding_supplies' %}" class="find-product">Shop Feeding Items →</a>
        </div>
        <!-- Product card for Baby Clothes -->
        <div class="product-card">
            <i class="fas fa-baby"></i>
            <h3>Baby Clothes</h3>
            <p>Soft, cozy, and adorable outfits for every season</p>
            <a href="{% url 'baby_clothes:baby_clothes' %}" class="find-product">Shop Baby Clothes →</a>
        </div>
        <!-- Product card for Toiletries -->
        <div class="product-card">
            <i class="fas fa-pump-soap"></i>
            <h3>Toiletries</h3>
            <p>Gentle skincare and bath products for sensitive baby skin</p>
            <a href="{% url 'toiletries:toiletries' %}" class="find-product">Shop Toiletries →</a>
        </div>
    </div>
</section>

<!-- Reviews and Blogs Section -->
<section id="reviews-blogs" class="reviews-blogs">
    <!-- Heading for the reviews and blogs section -->
    <h2>In-Depth Reviews: Every New Mom’s Guide</h2>
    <!-- Grid container for blog and review items -->
    <div class="blog-grid">
        <!-- Check if there are any blog and review items to display -->
        {% if blog_and_review %}
        <!-- Loop through each blog and review item -->
        {% for single_blog_and_review in blog_and_review %}
        <!-- Individual blog card -->
        <article class="blog-card">
            <!-- Container for the blog image -->
            <div class="blog-image">
                <!-- Image of the blog or review -->
                <img src="{{single_blog_and_review.image.url}}" alt="Blog/Review Image">
            </div>
            <!-- Container for the blog content -->
            <div class="blog-content">
                <!-- Title of the blog or review -->
                <h3 class="blog-title">{{single_blog_and_review.title}}</h3>
                <!-- Excerpt of the blog or review -->
                <p class="blog-excerpt">{{single_blog_and_review.excerpt}}</p>
                <!-- Link to the detailed blog or review page -->
                <a href="{% url 'homepage:detail_blog_review' single_blog_and_review.id %}" class="blog-link">Read
                    More</a>
            </div>
        </article>
        <!-- End for loop -->
        {% endfor %}
        <!-- End if condition -->
        {% endif %}
    </div>
</section>

<!-- About Section -->
<section id="about" class="about">
    <h2>About BeginMama</h2>
    <div class="about-content">
        <div class="about-intro">
            <h3>Your Companion from Pregnancy to Parenthood</h3>
            <p>At BeginMama, we understand that becoming a mother is a journey filled with joys, challenges, and everything in between. Our mission is to support and empower new mothers as they navigate the early stages of motherhood. Founded by a team of passionate parenting experts and experienced mothers, BeginMama is designed to be more than just a resource—it's a community.</p>
        </div>

        <div class="about-vision">
            <h3>Our Vision</h3>
            <p>To become the leading support platform where new moms find not only information but also inspiration and camaraderie in their parenting journey.</p>
        </div>

        <div class="about-offers">
            <h3>What We Offer</h3>
            <ul>
                <li><strong>Personalized Advice:</strong> Our extensive range of articles, blogs, and guides covers various aspects of pregnancy and parenting, tailored to the unique challenges new mothers face.</li>
                <li><strong>Reliable Reviews:</strong> We provide honest and comprehensive reviews on baby care products. From strollers to baby monitors, we test and evaluate products to help you make informed decisions.</li>
                <li><strong>Community Support:</strong> Connect with other moms through our forums and discussion groups. Share experiences, seek advice, and form friendships with those who truly understand the rollercoaster ride of motherhood.</li>
                <li><strong>Expert Guidance:</strong> Our panel of health professionals and parenting experts frequently contribute with actionable tips and scientifically-backed parenting hacks to ensure you receive the most verifiable information.</li>
            </ul>
        </div>

        <div class="about-why">
            <h3>Why BeginMama?</h3>
            <p>Because every mother deserves a support system that guides, reassures, and celebrates the small wins and big milestones together. At BeginMama, we're not just providing information; we're fostering a community where every new mom can thrive.</p>
        </div>

        <div class="about-join">
            <h3>Join Us</h3>
            <p>Dive into our resources, participate in discussions, and discover the support you need for a confident journey through motherhood. Welcome to BeginMama, where beginnings are beautified, and every question has a caring answer.</p>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" class="contact">
    <!-- Heading for the contact section -->
    <h2>Share Your Journey! We’re Listening</h2>
    <!-- Contact form -->
    <form id="contact-form" method="POST">
        <!-- CSRF token for security -->
        {% csrf_token %}
        <!-- Input field for full name -->
        <input type="text" name="full_name" placeholder="Your Full Name" required>
        <!-- Input field for email -->
        <input type="email" name="email" placeholder="Your Email" required>
        <!-- Textarea for message -->
        <textarea name="message" placeholder="Your Message" required></textarea>
        <!-- Submit button for the form -->
        <button type="submit">Submit Message</button>
    </form>
</section>

<!-- Begin footer section -->
<footer>
    <!-- Container for the footer content -->
    <div class="footer-content">

        <!-- Section for the website's name and slogan -->
        <div class="footer-section">
            <h3>BeginMama</h3>
            <p>Begin Your Best Mama Moments with Us.</p>
        </div>

        <!-- Section for quick navigation links -->
        <div class="footer-section">
            <h3>Quick Links</h3>
            <!-- List of quick navigation links -->
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#products">Products</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#reviews-blogs">Reviews & Blogs</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>

        <!-- Section for alternative contact methods -->
        <div class="footer-section">
            <h3>Alternative Contacts</h3>
            <!-- Container for social icons or contact icons -->
            <div class="social-icons">
               
                <!-- Email contact icon -->
                <a href="mailto:zengkaimin1991@gmail.com"><i class="fa-solid fa-envelope"></i></a>
            </div>
        </div>
    </div>

    <!-- Footer bottom section with copyright information -->
    <div class="footer-bottom">
        <p>&copy; 2024 BeginMama. All rights reserved.</p>
    </div>
</footer>

<!-- Link to the external JavaScript file navbar.js -->
<script src="{% static 'js/navbar.js' %}"></script>


<!-- Link to the JavaScript file message_form.js -->
<script src="{% static 'js/message_form.js' %}"></script>

<!-- 在页面底部添加结构化数据 -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "BeginMama",
    "url": "{{ request.build_absolute_uri }}",
    "description": "Your trusted guide for baby essentials and new mom resources",
    "potentialAction": {
        "@type": "SearchAction",
        "target": "{{ request.build_absolute_uri }}search?q={search_term_string}",
        "query-input": "required name=search_term_string"
    }
}
</script>

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "BeginMama",
    "url": "{{ request.build_absolute_uri }}",
    "logo": "{% static 'images/BeginMamaLogo.png' %}",
    "sameAs": [
        "https://facebook.com/beginmama",
        "https://instagram.com/beginmama",
        "https://pinterest.com/beginmama"
    ]
}
</script>

<nav aria-label="breadcrumb" class="breadcrumb-nav">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'homepage:homepage' %}">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Baby Essentials Guide</li>
    </ol>
</nav>

{% endblock %}

